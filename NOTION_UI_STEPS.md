# NotionのUIに近づけるためのステップ

このドキュメントでは、現在のアプリをNotionページのUIに限りなく近づけるための実装ステップを説明します。

## 完了した改善点

✅ **API設定の一元化**
- `API_BASE`を環境変数化（`frontend/constants/api.ts`）

✅ **CORS対応**
- バックエンドにCORSミドルウェアを追加

✅ **Notion風のプロパティ表示**
- `NotionProperty`コンポーネントを作成
- 左側にラベル、右側に値が並ぶ形式を実装
- `NotionPropertyBlock`でセクションをグループ化

✅ **タイポグラフィとスペーシングの改善**
- Notionのカラーパレットを適用（`#37352f`, `#787774`, `#e9e9e7`など）
- フォントサイズとウェイトを調整
- 適切なパディングとマージンを設定

## 次のステップ

### 1. データベースビュー（テーブル表示）の実装

Notionのデータベースビューを再現するには：

```typescript
// components/notion-table.tsx を作成
- カラムヘッダー（ソート可能）
- 行の選択機能
- インライン編集
- フィルタリング機能
```

**実装場所**: `app/year/[year].tsx`をテーブルビューに変更

### 2. インライン編集機能

プロパティをクリックして直接編集できるように：

```typescript
// components/editable-property.tsx を作成
- クリックで編集モードに切り替え
- 保存/キャンセルボタン
- バリデーション
```

**実装場所**: `app/live/[id].tsx`の各プロパティ

### 3. リッチテキスト表示

Notionのリッチテキスト機能：

```typescript
// マークダウン対応
- 太字、斜体、リンク
- リスト（箇条書き、番号付き）
- コードブロック
```

**ライブラリ**: `react-native-markdown-display` などを使用

### 4. アイコンと絵文字のサポート

```typescript
// プロパティにアイコンを追加
- カテゴリごとのアイコン
- ステータス表示の絵文字
```

**ライブラリ**: `@expo/vector-icons` または `react-native-emoji`

### 5. トグル/チェックボックス

Notionのトグル機能：

```typescript
// components/notion-toggle.tsx を作成
- 折りたたみ可能なセクション
- チェックボックス付きリスト
```

### 6. リレーション表示の改善

現在のリンク表示をNotion風に：

```typescript
// components/notion-relation.tsx を作成
- カード形式の表示
- プレビュー機能
- ドラッグ&ドロップでの並び替え（オプション）
```

### 7. カラーテーマの完全対応

```typescript
// constants/notion-theme.ts を作成
- ライト/ダークモード対応
- Notionのカラーパレットを完全再現
```

### 8. アニメーション

Notionのような滑らかなアニメーション：

```typescript
// react-native-reanimated を使用
- ページ遷移アニメーション
- ホバーエフェクト
- ローディングアニメーション
```

### 9. 検索機能

```typescript
// app/search.tsx を作成
- グローバル検索
- フィルタリング
- ソート機能
```

### 10. バックリンク表示

Notionのバックリンク機能：

```typescript
// 関連するライブを自動的に表示
- 同じグループのライブ
- 同じ会場のライブ
- 同じ期間のライブ
```

## 実装の優先順位

### 高優先度
1. ✅ プロパティ表示の改善（完了）
2. ✅ タイポグラフィとスペーシング（完了）
3. インライン編集機能
4. データベースビュー（テーブル表示）

### 中優先度
5. リッチテキスト表示
6. アイコンと絵文字のサポート
7. リレーション表示の改善

### 低優先度
8. アニメーション
9. 検索機能
10. バックリンク表示

## 参考リソース

- [Notion Design System](https://www.notion.so/help/design-system)
- Notionのカラーパレット: `#37352f` (テキスト), `#787774` (セカンダリ), `#e9e9e7` (ボーダー)
- フォント: NotionはInterフォントを使用（React Nativeではシステムフォントで近似可能）

## 注意事項

- モバイルアプリなので、Notionの完全な再現は難しい場合があります
- パフォーマンスを考慮して、アニメーションは控えめに
- ユーザビリティを最優先に、見た目だけでなく機能性も重視

